<!DOCTYPE html>
<html lang="en">

<head>
    <%- include ('../includes/head.ejs') %>
    <script src="https://unpkg.com/validator@latest/validator.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script defer src="/scripts/validations/registerValidation.js"></script>
    
</head>     
<body>
    <%- include ('../includes/header.ejs') %>
        <!-- break  -->
        <main>
            <h2 id="title">Registro</h2>
            <form action="/users/register" id="form" method="post" enctype="multipart/form-data">
                <label for="nombre">Nombre</label>
                <input type="text" name="nombre" id="nombre" placeholder="Ingrese nombre"
                    value="<%= locals.oldData ? oldData.nombre: null %>">
                <% if ( locals.errors && errors.nombre ) { %>
                    <p class="msg-error">
                        <%= errors.nombre.msg %>
                    </p>
                    <p id="nombreError" class="msg-error errors"></p>
                    <% } %>
                        <label for="apellido">Apellido</label>
                        <input type="text" name="apellido" id="apellido"   placeholder="Ingrese apellido"
                            value="<%= locals.oldData ? oldData.apellido: null %>">
                        <% if ( locals.errors && errors.apellido ) { %>
                            <p class="msg-error">
                                <%= errors.apellido.msg %>
                            </p>
                            <p id="apellidoError" class="msg-error errors"></p>
                            <% } %>

                                <label for="email">Email</label>
                                <input type="email" name="email" id="email" placeholder="direccion de corre electrónico"
                                     value="<%= locals.oldData ? oldData.email: null %>">
                                <% if ( locals.errors && errors.email ) { %>
                                    <p class="msg-error">
                                        <%= errors.email.msg %>
                                    </p>
                                    <p id="emailError" class="msg-error errors"></p>
                                    <% } %>

                                        <label for="contraseña">Contraseña</label>
                                        <input type="password" name="password" id="contraseña"  placeholder="Contraseña"
                                        value="<%= locals.oldData ? oldData.password: null %>">
                                        <% if ( locals.errors && errors.password ) { %>
                                            <p class="msg-error">
                                                <%= errors.password.msg %>
                                            </p>
                                            <p id="passwordError" class="msg-error errors"></p>
                                            <% } %>
                                        <label for="telefono">Telefono</label>
                                        <input type="text" name="telefono" id="telefono" placeholder="Telefono/celular"
                                            value="<%= locals.oldData ? oldData.telefono: null %>">
                                        <% if ( locals.errors && errors.telefono ) { %>
                                            <p class="msg-error">
                                                <%= errors.telefono.msg %>
                                            </p>
                                            <p id="telefonoError" class="msg-error errors"></p>
                                            <% } %>
                                        <label for="ubicacion">Ubicación</label>
                                        <input type="text" name="ubicacion" id="ubicacion" placeholder="Ubicacion"
                                            value="<%= locals.oldData ? oldData.ubicacion: null %>">
                                        <% if ( locals.errors && errors.ubicacion ) { %>
                                            <p class="msg-error">
                                                <%= errors.ubicacion.msg %>
                                            </p>
                                            <p id="ubicacionError" class="msg-error errors"></p>
                                            <% } %>

                                            <label for="avatar">Foto de perfil</label>              
                                            <input type="file" 
                                                name="imagen" id="imagen">
                                                <% if (locals.errors && errors.avatar) { %>
                                                    <p class="msg-error"> <%= errors.avatar.msg %> </p>
                                                <% } %>
                                                <p id="avatarError" class="msg-error errors"></p>

                                                        <div id="form__botonContainer">
                                                            <button type="reset" class="form__boton reset">Borrar</button>
                                                            <button type="submit" class="form__boton" >Enviar</button>
                                                        </div>
            </form>
        </main>

        <%- include ('../includes/footer.ejs') %>

        <script src="../../scripts/menu.js"></script>
</body>

</html>